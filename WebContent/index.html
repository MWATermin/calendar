<html> 
	<head> 
	<title>My Page</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.css" />
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<link rel="stylesheet" href="jquery.ui.datepicker.mobile.css" /> 
  	<script src="jQuery.ui.datepicker.js"></script>
  	<script src="jquery.ui.datepicker.mobile.js"></script>
	<script type="text/javascript" language="javascript"> 
		function getJSONData()
		{
			$.getJSON("/Calendar_Rest/rest/get?usr=" + document.getElementById("cell8").value + "&id=" + document.getElementById("cell9").value, function(jd) { 
				document.getElementById("cell1").value = jd.authorID;
				var DateObj = new Date(jd.dateAndTime);
				var Month = ('0' + (DateObj.getMonth()+1)).slice(-2);
				var Day = ('0' + DateObj.getUTCDate()).slice(-2);
				document.getElementById("cell2").value = DateObj.getFullYear() + "-" + Month + "-" + Day;
				document.getElementById("cell3").value = jd.description;
				document.getElementById("cell4").value = jd.duration;
				document.getElementById("cell5").value = jd.id;
				document.getElementById("cell6").value = jd.label;
				});
		}

		function putJSONData()
		{
			var DateObj = new Date(document.getElementById("cell2").value);
		
			var a = {
			    "id": document.getElementById("cell5").value,
			    "dateAndTime": DateObj.getTime(),
			    "duration": document.getElementById("cell4").value,
			    "authorID": document.getElementById("cell1").value,
			    "place": document.getElementById("cell7").value,
			    "label": document.getElementById("cell6").value,
			    "description": document.getElementById("cell3").value
			};
			
			var myString = JSON.stringify(a);
			$.ajax({
	            type: "POST",
	            url: "/Calendar_Rest/rest/post",
	            data: myString,
	            dataType: "json",
	            contentType: "application/json"
	        });
		}
	
		$(document).ready(function() { 
			$("#bget").click(function(event){ 
				 getJSONData();
				}); 
			});
		
		$(document).ready(function() { 
			$("#bpost").click(function(event){
				putJSONData();
			}); 
		});

		$(document).ready(function() { 
			$("#bput").click(function(event){
				putJSONData();
			}); 
		});
		
		$(document).ready(function() { 
			$("#bfwd").click(function(event){
				$("#cell9").val(parseInt($("#cell9").val()) + 1); 
				 getJSONData();
				   
			}); 
		});
		
		$(document).ready(function() { 
			$("#bbw").click(function(event){
				$("#cell9").val(parseInt($("#cell9").val()) - 1); 
				getJSONData();
			}); 
		});
	</script>
</head> 
<body> 
<div data-role="page" align="center">
	
	<div data-role="content"">
		<div class="ui-body-a ui-body" style="width:65%;">
		    <h3>Dung Fly</h3>
		    <div data-role="navbar">
		        <ul>
		            <li><a id="bput" href="#" data-icon="star">PUT</a></li>
		            <li><a id="bget" href="#" data-icon="arrow-d">GET</a></li>
		            <li><a id="bpost" href="#" data-icon="arrow-u">POST</a></li>
		            <li><a id="bdel" href="#" data-icon="delete">DEL</a></li>
				</ul>
		    </div><!-- /navbar -->
		    <div data-role="navbar">
		        <ul>
		            <li><a id="bbw" href="#" data-icon="arrow-l">Previous Date</a></li>
		            <li><a id="bfwd" href="#" data-icon="arrow-r">Next Date</a></li>
				</ul>
		    </div><!-- /navbar -->
		</div><!-- /container -->
		
		<div class="ui-field-contain" style="width:50%;">
			<div class="ui-corner-all custom-corners">
				<div class="ui-bar ui-bar-a">
					<h3>Login</h3>
				</div>
				<div class="ui-body ui-body-b">
					<label for="textinput-1">Username</label>
					</br>
					<input type="text" name="textinput-1" id="cell8" placeholder="Text input" value="gina"  data-mini="true">
					</br>
					<label style="display:none" for="textinput-1">Date</label>
					</br>
					<input style="display:none" type="text" name="textinput-1" id="cell9" placeholder="Text input" value="0"  data-mini="true">
					</div>
				</div>
			</div>
			<div class="ui-corner-all custom-corners" style="width:50%;">
				<div class="ui-bar ui-bar-a">
					<h3>Data</h3>
				</div>
				<div class="ui-body ui-body-b">
					<label for="textinput-1">Author ID:</label>
						
					<input type="text" name="textinput-1" id="cell1" placeholder="Text input" value=""  data-mini="true">
						
					<label for="textinput-1">Date and Time:</label>
						
					<input  id="cell2" type="date" name="date" id="date" value=""  />
						
					<label for="textinput-1">Description:</label>
						
					<input type="text" name="textinput-1" id="cell3" placeholder="Text input" value=""  data-mini="true">
						
					<label for="textinput-1">Duration:</label>
						
					<input type="text" name="textinput-1" id="cell4" placeholder="Text input" value=""  data-mini="true">
						
					<label for="textinput-1">ID:</label>
						
					<input type="text" name="textinput-1" id="cell5" placeholder="Text input" value=""  data-mini="true">
						
					<label for="textinput-1">Label:</label>
						
					<input type="text" name="textinput-1" id="cell6" placeholder="Text input" value=""  data-mini="true">
						
					<label for="textinput-1">Place:</label>
						
					<input type="text" name="textinput-1" id="cell7" placeholder="Text input" value=""  data-mini="true">
				</div>
			</div>
		</div>
	</div>
</body>
</html>